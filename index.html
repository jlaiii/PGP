<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PGP Tools</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9fafb;
      padding: 2rem;
      color: #111827;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .nav {
      margin-bottom: 2rem;
    }

    .nav button {
      margin-right: 1rem;
      padding: 10px 20px;
      border: none;
      background: #4f46e5;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    .nav button:hover {
      background: #4338ca;
    }

    #page-content {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 2rem;
      background: white;
    }
  </style>
</head>
<body>
  <h1>Welcome to PGP Tools</h1>

  <div class="nav">
    <button onclick="loadPage('keygen.html', 'keygen.js')">Key Generator</button>
    <button onclick="loadPage('decrypt.html', 'decrypt.js')">Decrypt</button>
    <button onclick="loadPage('sign.html', 'sign.js')">Sign</button>
    <button onclick="loadPage('verify.html', 'verify.js')">Verify</button>
  </div>

  <div id="page-content">
    <p>Welcome! Press a button to load a tool.</p>
  </div>

  <script>
    async function loadPage(page, script) {
      const res = await fetch(page);
      const html = await res.text();
      document.getElementById('page-content').innerHTML = html;

      // Dynamically load the script if provided
      if (script) {
        const existing = document.querySelector(`script[data-page="${script}"]`);
        if (existing) existing.remove();

        const s = document.createElement('script');
        s.src = script;
        s.setAttribute('data-page', script);
        document.body.appendChild(s);
      }
    }
  </script>
</body>
</html>
